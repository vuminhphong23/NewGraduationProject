<!-- fragments/user/header.html -->
<div class="row m-0 header" th:fragment="header">
    <div class="col-2 logo">
        <i class="fas fa-graduation-cap"></i>
        <span>Forumi<span class="logo-orange">kaa</span></span>
    </div>
    <div class="col-6 search-bar px-0">
        <i class="fa fa-search"></i>
        <input type="text" placeholder="Tìm kiếm trên Forumikaa...">
    </div>
    <div class="col-4 header-menu d-flex justify-content-end" data-user-id="${#authentication.principal.id}">
        <a th:href="@{/}"><i class="fa-solid fa-newspaper"></i><span class="menu-text">Bảng tin</span></a>
        <a th:href="@{/suggested-posts}"><i class="fa-solid fa-lightbulb"></i><span class="menu-text">Gợi ý</span></a>
        <a th:href="@{/message}"><i class="fa-solid fa-envelope"></i><span class="menu-text">Tin nhắn</span></a>
        
        <!-- Notification Bell -->
        <div class="notification-dropdown position-relative">
            <a href="#" data-bs-toggle="dropdown" aria-expanded="false" class="notification-bell">
                <i class="fa-solid fa-bell"></i>
                <span class="menu-text">Thông báo</span>
                <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
            </a>
            <div class="dropdown-menu dropdown-menu-end notification-menu" style="width: 350px; max-height: 400px; overflow-y: auto;">
                <div class="dropdown-header d-flex justify-content-between align-items-center">
                    <h6 class="mb-0">Thông báo</h6>
                    <div>
                        <button class="btn btn-sm btn-link text-decoration-none" id="markAllRead">Đánh dấu tất cả đã đọc</button>
                    </div>
                </div>
                <div class="dropdown-divider"></div>
                <div id="notificationList">
                    <div class="text-center py-3 text-muted">
                        <i class="fa fa-bell-slash fa-2x mb-2"></i>
                        <div>Không có thông báo nào</div>
                    </div>
                </div>
            </div>
        </div>
        
        <a th:href="@{/profile/{username}(username =${#authentication.name})}"><i class="fa-solid fa-user"></i><span class="menu-text">Tài khoản</span></a>
        <div class="dropdown">
            <a href="#" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa-solid fa-gear"></i><span class="menu-text">Cài đặt</span></a>
            <ul class="dropdown-menu dropdown-menu-end">
                <li>
                    <form th:action="@{/logout}" method="post" style="margin:0;">
                        <button type="submit" class="dropdown-item">Đăng xuất</button>
                    </form>
                </li>
            </ul>
        </div>
    </div>
</div>
